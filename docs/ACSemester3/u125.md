---
sidebar_position: 61
---

# u125 新知和技術  

先前我們有把專門存放完整照片的資料夾 /upload 放在 .gitignore 裡面，所以這個資料夾並沒有一起被推上 Heroku，造成目前上傳圖片的功能失效： 


其實就算我們有把 upload 資料夾推上 Heroku， Heroku 的主機上也會定期清除資料，使得上傳的圖片無法保留。

為了解決這個問題，我們要把圖片上傳到第三方的網站保存。


## 申請 Imgur 服務

設定環境變數清單 .env

剛剛拿到的應用程式密鑰 (App Secret) 算是敏感資訊，不宜放在網路上裸奔。

第一週我們在整合 Facebook 第三方登入的時候，就有學過要如何隱藏敏感資訊，忘記的同學可複習「建立 .env 管理敏感資訊與環境變數」單元。這裡我們就直接動作。

安裝 imgur

回到專案裡，把 imgur 與 dotenv 這兩個套件安裝起來：
```
npm install imgur@1.0.2 dotenv@10.0.0
```
新增 .env 檔案

請在專案根目錄開一個 .env 檔案：

touch .env
內容寫：

IMGUR_CLIENT_ID= 輸入你的 Client ID
新增 .env.example 檔案

.env 已經加到 .gitignore，不會被上傳，不過在多人合作的情境下，為了幫助下載你專案的協作夥伴知道 .env 裡面有哪些項目，我們會把 .env 檔複製一份，檔名改成 .env.example，但是把值刪掉：

IMGUR_CLIENT_ID= 
這樣下載你專案的同事，即使沒問過你，也可一眼知道要做哪些環境設定來啟動專案。