---
sidebar_position: 7
---

# U30 知識&技術

## Passport 對於req物件的屬性
1. Passport  在驗證登入時會替req 物件增添一些屬性來表示驗證結果、session-id對應的使用者實例等屬性值
 
## app.locals
1. 原文為如下
> The app.locals object has properties that are local variables within the application.
2. 是一個express app 所擁有的屬性之一，專門存放一組區域變數，而這些區域變數的scope會是整個web app

## res.locals
1. 原文為如下
> An object that contains response local variables scoped to the request, and therefore available only to the view(s) rendered during that request / response cycle (if any). Otherwise, this property is identical to app.locals.
2. 是一個 res物件所擁有的屬性之一，專門存放一組區域變數，而這些區域變數的scope會依照requrest所在的middleware stack來區分，也就是不同的stack會有不同的res.locals / 區域變數，在這裏同一個stack的middleware會共享著這些區域變數，而對應的middleware所擁有的view也會跟著共享


## res.render(template, locals)
1. res.render(template, locals) 中的locals原文如下
> locals, an object whose properties define local variables for the view.
2. res.render(template file, locals) 中的locals也是區域變數，只是scope是在template file這個範疇上。


