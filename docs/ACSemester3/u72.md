---
sidebar_position: 29
---

# u72 新知和技術 

## Query 寫法
1. 欄位名稱、表格名稱可以用``包起來
2. 字串得用單引號或者雙引號來包起來
3. 每個Query後頭都必須添加;分號
4. 若語法中存在多個欄位，請使用,逗號來分隔欄位
4. 關鍵字建議都大寫且每個子句要按照一行一功能來換行，以保持很好的易讀性


## 子句
1. WHERE 子句：透過指定謂詞來過濾出對應的紀錄
2. FROM 子句：透過指定表格名稱來過濾出其表格所擁有的紀錄
3. SET 子句：則是指定哪個欄位要被修改以及修改成什麼值，常見於UPDATE Statement


## Query語言語法結構
1. 結構上大致分為
  - 子句：一個包含主詞和動詞、謂詞的語法結構，且是構成一個語句的一部分，在這裡會是以子句關鍵字為主詞，而謂詞就是條件式。
  - 表達式(Expression)：一個能夠對應特定值、特定表格的表現語法
  - 謂詞(Predicate)：語言學裡是指關於某句子的主詞和某命某命題的論點描述、肯定或者斷言，本身在電腦科學裡會以假設某些事情成立來當控制流程中的條件式，換言之，在Query中就是指條件式
  - 語句(Statement)/請求(Query)：一份描述某些事物或者某些事實的句子，在電腦科學的資料庫裡，語句是代表一組完整描述且即將要執行的動作
  - 指令(Command)：描述著即將要執行的動作並綁定於某些特定語句才能正常使用

2. 補充知識：
  - 斷言(assert)/(assertion)：assert是指認為某件事肯定為真，而assertion是指一個推斷某件事為真或者某否定的描述。
  > assert: to say that something is certainly true。assertion: 

3. 參考資料
 - [What is difference between clause, command, statement and query in SQL?](https://stackoverflow.com/questions/52835714/what-is-difference-between-clause-command-statement-and-query-in-sql)
 - [Difference between sql statements and clause](https://stackoverflow.com/questions/15629550/difference-between-sql-statements-and-clause)
 - [Difference between a statement and a query in SQL](https://stackoverflow.com/questions/4735856/difference-between-a-statement-and-a-query-in-sql)
## 新增資料
1. 要構成新增資料的語法，必須調用INSERT INTO才能使用，通常會綁定VALUES這指令來進一步指定指派值為何。
2. 語法結構為如下，首先會按照table_name的schema來建立一筆新資料，並按照VALUES所指定的值(value1, value2, ...) 來對應INSERT INTO所指定的欄位為何(column1, column2, ....)，也就是說value1-valueN會按照column擺放的位置來指派，column1對應的value會是value1，column2對應的value會是value2，後面以此類推
```
INSERT INTO table_name (column1, column2, column3, ...)
VALUES (value1, value2, value3, ...);
```
2. 當指定表格有屬性是按照實際建立來指派預設值或者沒設定NOT NULL的話，可不用在column和value那邊填寫該屬性
3. 案例：定義一個名為tables的表格，且擁有著id、name、price這三個屬性，主鍵則是id，id的預設值是依AUTO_INCREMENT來隨資料數來指派，name的預設值則一律hi，
```
CREATE TABLE `drinks` (
  `id`  INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(20) NOT NULL DEFAULT 'hi',
  `price` INT UNSIGNED NOT NULL,
   PRIMARY KEY (`id`)
);
```
假如執行只增加price的INSERT INTO，那麼最後的結果會由於id和name都有預設值皆滿足於NOT NULL，而price在VALUES那邊填上數值，因此整體來說這筆資料的建立會是合法的。
```
INSERT INTO `drinks` (price) 
VALUES (123);
```

## 查詢資料
1. 要構成查詢資料的語法，必須調用SELECT Statement才能使用。
2. 該Statement基本上會搭配著SELECT子句和FROM子句來指定讀取哪個表格下的哪個資料
3. 合併後的語法格式為如下，column1-columnN會是指指定要讀取的欄位，而table_name則是指定讀取哪個表格，其中SELECT column1, ...會是select 子句，而FROM table_name會是FROM 子句
```
SELECT column1, column2, ...
FROM table_name;
```

3. 若column1-columnN改用*的話，會是讀取所有欄位


## 更新資料
1. 要構成更新資料的語法，必須調用UPDATE Statement才能使用
2. 該Statement基本上會搭配著UPDATE 子句、SET 指令(綁定於UPDATE)、WHERE 子句
3. 從table_nmae獲取所有紀錄，並挑選滿足condition的紀錄來更改他們欄位column1至columnN為value1至valueN，最後回寫至資料庫中。
```
UPDATE table_name
SET column1 = value1, column2 = value2, ...
WHERE condition;
```
4. 案例1：使用著UPDATE 子句、SET指令、WHERE子句，首先會先獲取drinks表格的所有紀錄，並找到name為冰咖啡的紀錄，從紀錄中將price更改為90
```
UPDATE `drinks`
SET `price` = 90
WHERE `name` = '冰咖啡';
```

5. 案例2：首先會先獲取drinks表格的所有紀錄，並為所有紀錄下的price更改為1000
```
UPDATE `drinks`
SET `price` = 1000;
```
## 刪除資料
1. 要構成刪除資料的語法，必須調用DELETE Statement才能使用
2. 該Statement基本上會搭配著FROM子句、WHERE子句來分別指定刪除哪個表格的資料以及哪一種資料
3. 從table_name這個資料表格獲取所有紀錄，並根據滿足condition的紀錄來刪除
```
DELETE FROM table_name 
WHERE condition;
```
4. 案例1: 從drinks這個資料表格獲取所有紀錄，並從中找到name為阿華田的紀錄來刪除
```
DELETE FROM `drinks`
WHERE `name` = '阿華田';
```


## 軟刪除
1.