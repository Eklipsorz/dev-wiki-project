---
sidebar_position: 57
---

# u119 新知和技術  


## 上傳餐廳照片 - multer 


### file類型的input
1. 可允許使用者輸入單一檔案(圖片)為內容的元件，但一次只能輸入一個檔案，形式為
```
<input type="file">
```
2. 若將該元件放至表單中，而當表單提交時，就會將圖片編碼成特定形式傳送給伺服器處理
```
<form>
  <input type="file">
</form>
```
### content-type
1. 設定傳輸內容是以何種形式編碼來傳遞：傳統上會是以同一形式來編碼，要嘛內容全都以文字形式來編碼傳遞，要嘛內容全都以檔案形式來編碼傳遞，而為了進行綜合這兩種形式的編碼，而增加了multipart類型。
  - 文字形式：text/html(HTML檔案)、text/plain(純文字)、application/json(JSON檔案)
  - 檔案形式：application/pdf(pdf檔案)、video/mpeg4(影片檔)
  - 綜合文字和檔案形式：multipart/form-data(用於表單資料傳遞)
2. 若表單採用於multipart/form-data的話，當表單發生提交時，可將表單內含的圖片和文字分別以各自形式來編碼並傳遞至伺服器或者目的地，其中enctype是指定發生提交傳遞時以何種形式編碼傳遞。
```
<form enctype="multipart/form-data">
  <input type="file"....>
  <input type="text">
</form>
```

### 顯示圖片元件
1. 首先會將上傳的圖片放置特定目錄，並以該圖片的所在路徑來代表它，同時也可以將路徑來儲存在資料庫
2. 若要顯示圖片的話，可以使用其路徑和img元件來顯示
```
<img src={{ restaurant.img }}>
```


### 實務上開發：
1. 若樣式要放在渲染檔案中的話，可以是:
  - inline style：
  ```
  <img style="width: 250px; margin-bottom: 25px; transition: opacity 0.5s; opacity:0;" onload="this.style.opacity=1;">
  ```
  - 以獨立樣式檔案來給予渲染檔案引用
