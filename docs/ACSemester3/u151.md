---
sidebar_position: 76
---

# u151 新知和技術


## 依分類篩選餐廳總表

在這裡你可能會馬上想到兩種路由設計方式，請你先花三分鐘想想，以下兩種路由設計有什麼差別，而現在的情境適合選用哪種？
```
/restaurants?categoryId=3
/categories/:id
```


在這裡我們會選擇用第一種路由 /restaurants?categoryId=3。

理由還是回歸到 RESTful 的精神，設計出能直觀反映路徑的路由。

第一種路由 /restaurants?categoryId=3 意指：「在所有的餐廳名單中，挑出類別為義大利餐廳的餐廳列表。」也就是我們的需求情境。
第二種路由 /categories/:id 則是指說：「從 /categories 這個頁面，進入義大利餐廳這個類別。」
第二種路由的情境，通常會是在規模較大、資料量較繁雜的網頁，例如新聞網站，它有專門的 /categories 頁面，使用者可從中點選不同的分類，像是進入國際時事類別、科技時事類別...等等。

不過我們此處沒有這樣的資料量需求，也沒有開設 /categories 頁面，我們的需求是「在所有的餐廳名單中，挑出類別為義大利餐廳的餐廳列表。」因此這裡會選用 /restaurants?categoryId=3。



請於 views/restaurants.hbs 的最上方加入導覽器，第一個項目留給「全部餐廳」的情境，之後就迭代 categories 變數，取出分類名稱的同時，把 id 加到網址上，之後就可以在 controller 裡拿到參數：

於views/restaurants.hbs上方建立一個導覽器，這個導覽器充滿著許多選項來讓使用者

當沒有選擇任何類別時，categoryId就會為空值，那麼就預設代表"全部"的選項呈現成active樣式，而其他選項則因為categoryId是空值，所以不會跟著呈現active
```
<ul class="nav nav-pills">
  <li class="nav-item">
    <a class="nav-link {{#ifCond '' categoryId}}active{{/ifCond}}" href="?categoryId=">全部</a>
  </li>
  {{#each categories}}
    <li class="nav-item">
      <a class="nav-link {{#ifCond this.id ../categoryId}}active{{/ifCond}}"
        href="?categoryId={{this.id}}">{{this.name}}</a>
    </li>
  {{/each}}
</ul>
```