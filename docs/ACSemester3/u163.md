---
sidebar_position: 87
---

# u163的新知和技術


## 定義資料模型：Followship
User 追蹤 User 不過，「使用者追蹤使用者」，是在同一個資料表自己和自己有關係，這種關係我們稱為自關聯 (Self-referential Relationships) 或自連接 (Self Joins)。

「一個 User 可以追蹤很多 User，而一個 User 可以被很多 User 追蹤」，這仍然是一個多對多關係，需要一張 Join Table 來紀錄兩組資料的關係，讓我們把這張 Join Table 叫做 Followship table。

比較需要注意的是外鍵的設定，由於在 Followship table 上，兩個欄位的資料都來自 Users table，無法依慣例命名為 user_id或者無法讓兩個表格還用著相同屬性名稱，得有所區別才能各別在兩個表格取得資料



注意在 Followship 表上的欄位命名：

follower_id - 誰在追蹤這個使用者
following_id - 被追蹤的使用者


以下是完整的命名規劃：

情境	外鍵	關聯方法名稱
誰在追蹤這個使用者	follower_id	Followers
被追蹤的使用者	following_id	Followings
