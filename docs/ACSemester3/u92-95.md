---
sidebar_position: 43
---

# u92-95 新知和技術 



## Finder 
1. 用來產生對應SELECT 類型的QUERY
2. 所有Finder方法的搜尋結果：
  - 對資料庫而言，會是對應的紀錄或者紀錄集合
  - 對應用程式而言，會是以sequelize model類別的實例，該實例會被sequelzie綁定著對應哪個資料表格下的紀錄以及對應紀錄的每個屬性，來方便操作對應的紀錄
3. 基於第二點，我們會將搜尋結果視為：
  - 將該實例當作對應紀錄來操作，比如
  ```
  // 透過主鍵的id向資料庫找到搜尋結果，並將結果以Todo model的實例儲存
  // 也就是這裏targetTodo來儲存對應的結果，同時也對應著資料庫上符合id的紀錄
  const targetTodo = await Todo.findByPk(id)
  // 以實例方式來修改其name、isDone，在這裏只是更動實例本身儲存的，並非連帶更動對應的紀錄
  targetTodo.name = name
  targetTodo.isDone = isDone === 'on'
  // save()將targetTodo目前儲存的內容更新至對應在資料庫的物件
  await targetTodo.save()
  ```
  - 由於搜尋結果會是以實例為代表，所以內容會是一個物件形式來存放。
4. 若要將儲存物件內容的搜尋結果轉換成一組存放紀錄(物件)的陣列如下，需設置raw:true
```
obrject ->  [record1, record2,.....]
```

5. 原本對應Query中的結果中是存有由.所構成的屬性，比如foo.bar.baz，若想要以巢狀結構來顯示的話，可設置nest: true，比如：
```
{
  "foo.bar.baz": 1
}
```
轉換成

```
{
  "foo": {
    "bar": {
      "baz": 1
    }
  }
}
```