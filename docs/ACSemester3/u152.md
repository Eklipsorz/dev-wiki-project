---
sidebar_position: 77
---

# u152 新知和技術



## 餐廳列表分頁功能

實作分頁器主要要考慮如何將資料篩選成指定頁數中所會有的資料，為了達到這樣，我們可以先假設每一頁會有十筆餐廳，第一頁會是前面第一筆至第十筆餐廳，第二頁則會是跳過前面十筆餐廳，直接挑選第十一筆餐廳至第二十筆餐廳，第三頁則會是跳過前面二十筆餐廳，直接挑選第二十一筆餐廳至第三十筆餐廳，後面以此類推，假如有一頁未滿十筆餐廳就以當前餐廳數量來呈現，總結這幾項觀察，具體可以是：
  - 定義page這個參數來表示第n頁
  - 要呈現第n頁內的內容，會是跳過前面n-1頁的所有內容並按照指定餐廳數量於當前餐廳挑選前幾筆餐廳


## 補充： sequelize 的 findAndCountAll 功能


## 補充： sequelize 的 limit 和 offset
1. limit 會是對應 SQL limit 語法，主要功能為將Query的最後結果縮減至n個紀錄，而n個紀錄會是原紀錄中的前n個紀錄，語法會是如下，limit會是對應語法的關鍵字，而n正是目標要縮減的數量
```
model.finder({
  .
  limit: n,
  .
})
```
2. offset 則是對應著 SQL offset 語法，主要功能為將Query的最後結果去掉前n個紀錄，語法會是如下，offset會是對應語法的關鍵字，而n正是目標要去掉的數量
```
model.finder({
  .
  offset: n,
  .
})
```
3. 若將limit m 和offset n 結合著使用，會是將Query的最後結果會先被去掉前n個紀錄，再來從中取前面m個紀錄當作最後結果，舉例：對著Project對應的資料表格獲取所有project，並將其結果先去掉前面4個紀錄，接著隨後再取前面五個紀錄當作Project.findAll的結果。
```
Project.findAll({
  offset: 4,
  limit: 5
})
```