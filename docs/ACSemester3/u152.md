---
sidebar_position: 77
---

# u152 新知和技術



## 餐廳列表分頁功能

實作分頁器主要要考慮如何將資料篩選成指定頁數中所會有的資料，為了達到這樣，我們可以先假設每一頁會有十筆餐廳，第一頁會是前面第一筆至第十筆餐廳，第二頁則會是跳過前面十筆餐廳，直接挑選第十一筆餐廳至第二十筆餐廳，第三頁則會是跳過前面二十筆餐廳，直接挑選第二十一筆餐廳至第三十筆餐廳，後面以此類推，假如有一頁未滿十筆餐廳就以當前餐廳數量來呈現，總結這幾項觀察，具體可以是：
  - 定義page這個參數來表示第n頁
  - 要呈現第n頁內的內容，會是跳過前面n-1頁的所有內容並按照指定餐廳數量於當前餐廳挑選前幾筆餐廳


## 補充： sequelize 的 findAndCountAll 功能


## 補充： sequelize 的 limit 和 offset
1. limit 會是對應 SQL limit 語法，主要功能為將Query的最後結果縮減至n個紀錄，而n個紀錄會是原紀錄中的前n個紀錄，語法會是如下，limit會是對應語法的關鍵字，而n正是目標要縮減的數量
```
model.finder({
  .
  limit: n,
  .
})
```
2. offset 則是對應著 SQL offset 語法，主要功能為將Query的最後結果去掉前n個紀錄，語法會是如下，offset會是對應語法的關鍵字，而n正是目標要去掉的數量
```
model.finder({
  .
  offset: n,
  .
})
```
3. 若將limit m 和offset n 結合著使用，會是將Query的最後結果會先被去掉前n個紀錄，再來從中取前面m個紀錄當作最後結果，舉例：對著Project對應的資料表格獲取所有project，並將其結果先去掉前面4個紀錄，接著隨後再取前面五個紀錄當作Project.findAll的結果。
```
Project.findAll({
  offset: 4,
  limit: 5
})
```


## 補充： what is magic number? && anti-pattern
1. magic number：
  - 單方面透過數字本身以及獨特性當做參數來產生出不同結果和功能，數字本身也未被賦予特定意義或者它代表著什麼樣功能，就只是依照數字原有的型態來呈現它就是數字
  - 由於magic number本身依據著獨特且數字原有形態來表達功能的不同，這對人類而言，會很難閱讀、理解、維護，但卻可以解決問題，所以是一種anti-pattern的解決方案
  - 由於magic number本身是獨特且數字原有型態來呈現，可以在帳號系統用來辨識每個使用者的不同。
> The term magic number or magic constant refers to the anti-pattern of using numbers directly in source code.


2. software design pattern : software是指軟體開發，而desgin pattern則是設計方法，合併起來就是軟體開發方面的設計方法，泛指如何在不同場景下要怎麼解決問題的一種方案，會將開發問題、解法、場景轉換成一個可分析思考的架構，以試著找出可讀性、維護性、擴充性極高的解決方案來面對問題。
> is a general, reusable solution to a commonly occurring problem within a given context in software design
>  common approaches to common problems which have been formalized and are generally considered a good development practice, anti-patterns are the opposite and are undesirable
3. anti-pattern：
  - 同樣也是一種software design pattern
  - 只是anti在這裡的含義是相悖於design pattern存在的意義-找出可讀性、維護性、擴充性極高的解決方案，anti-pattern是為了找出有哪種解決方案會是能解決問題，但其可獨性、維護性、擴充性很差，以此當作測試代碼的基礎，檢驗代碼是否滿足於anti-pattern。
  - 主要用作於測試代碼是否存在anti-pattern的解法或者當作負面教材來校正程式碼不去滿足於anti-pattern

4. pattern：一個如何將某件事物完成、某件事物組織起來、引發某件事件發生的特定方法
> a particular way in which something is done, is organized, or happens
[what-is-an-anti-pattern](https://stackoverflow.com/questions/980601/what-is-an-anti-pattern)