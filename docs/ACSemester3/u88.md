---
sidebar_position: 39
---

# u88 新知和技術 



## Sequelize
1. 類似於mongoose ，但操作上不一樣
2. Sequelize 提供了一系列事先設定好的任務腳本，包括自動產生設定檔、載入種子資料、資料庫設定等等。這堆腳本的集合稱為 Sequelize CLI。

## mysql2
1. 第三方套件，主要提供NODE.js一個介面能在其環境下直接使用SQL指令以及操作對應SQL資料庫
> MySQL2 project is a continuation of MySQL-Native.

## npx
1. 全名為npm package executor，本身是第三方套件，方便使用node.js模組所提供的指令集和儘可能減少全域安裝模組的機會
2. 預設上，它會自動在目前專案下的node_modules/.bin或者其他負責存放node.js模組下的指令集所在地點(比如系統環境變數，Linux/Unix的$PATH)尋找是否有使用者想要的指令，若有的話，該套件會去指令的實際所在來執行使用者所想要執行的指令
3. npm 會附帶npx這套件，若沒安裝的話
```
npm install -g npx
```
4. 在未使用npx之前，要使用node.js模組所提供的指令集，必須先知道node.js模組的指令集所在才能夠執行，而為了方便執行指令集，部分開發者會想要將這些模組安裝整個系統上(全域)，而非整個專案，但這樣對於專案的共享來說，必須要求其他執行環境必須在整個系統上安裝這模組，才能享有與原本的好處-不預先知道所在就能按照指令名稱來執行，同時全域安裝並不會寫入至package.json或者package-lock.json，所以全域安裝反而帶來 要求整個開發團隊必須安裝在整個系統安裝模組的限制
5. 承上，所以為了盡可能將模組安裝至整個專案以及紀錄在package.json、package-lock.json上，所以npx的出現，會直接幫開發者找到對應的模組，而且npx本身是與npm一起存在，所以不會有要求整個開發團隊必須安裝在整個系統安裝模組的限制



## npx sequelize init  
1. 對應sequelize的指令，而init則是指定的參數
2. sequelize init 主要會自動建立sequelize所需要的設定檔和目錄
3. 主要會建立的設定檔和目錄為：
    - config/config.json：資料庫設定檔
    - models/index.js：model 設定檔案
    - migrations目錄：資料庫遷徙設定檔的位置，預設會是空目錄
    - seeders目錄：資料庫的種子資料設定檔位置，預設會是空目錄

## sequelize config/config.json
1. 裡面存放三種開發時機點對於資料庫操作的設定檔，三種模式分別為Development 、Test、Production這三種
2. Development mode: 你自己在本地開發的模式，此時的資料庫通常就安裝在你的電腦裡，而且裡面幾乎都是假資料
3. Test mode：測試時候用的環境，資料庫需要配合測試案例的設計，來配套獨特的資料組合，把操作變因降到最小。
4. Production mode：產品上線以後，資料庫會在正式平台 (如 Heroku、AWS、GCP 等) 的模式，此時資料庫裡是真正的使用者數據
![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1642693447/blog/database/sequelize/config.json_ydf3g3.png)
5. 每一種設定檔都可以定義不同的資料庫、使用者、密碼、其他設定
6. Sequelize 會透過config/config.json來與對應的資料庫做自動連線，不像mongoose都要開發者親自下達以及設定資料庫連線才能完成
7. 關於 operatorsAliases 這個設定，其實它在 Sequelize v5 以後就被棄用了，但在 sequelize init 腳本裡目前還是會自動帶入。如果沒有刪掉它，會在 server 上跳出 warning message。


## 多人協作下的ERD和model
1. 確定ERD之後，先一次按照ERD將對應的(應用程式層級/MVC層級的)Model或者Schema做完，接著在按照Model會有的功能來分配工作
2. 不建議每個人做各自的model