---
sidebar_position: 3
---

# MVC 架構

## 三層架構 到 MVC架構
首先軟體架構可以簡單以使用者能不能直接看到的介面來區分，主要分為介面和介面互動、業務（商業）邏輯（軟體主要提供給使用者的功能、服務）這兩類，業務在這裡是指軟體所提供的功能，而邏輯是根據已知資訊而推論出的標準、規則，合在一起就是為了實現軟體功能而推論出來所需要完成的標準和規則，換言之就是業務邏輯就是定義軟體能提供的服務以及定義這些服務所需要完成的標準規則（含定義這些服務是以什麼形式來提供)，前者會將介面上的元件與業務邏輯所提供的功能進行綁定，當元件與產生互動時，便會因為綁定而去執行對應的業務邏輯。

而業務邏輯本身會涉及到資料，且有些服務會要求存取的資料是能夠集中管理且要能夠重複使用的程式碼，而將那些程式碼特別封裝成另一類負責資料存取，所有程式碼都要經由這一類才能夠存取，這一類叫做資料存取。從這些描述來看，軟體架構可以進一步將程式碼分為三類或者三層，分別為負責處理介面和介面互動的呈現層(Presentation Layer)、負責定義軟體要提供的功能以及如何實現其功能的業務邏輯層(Business Logic Layer)、負責管理資料(庫)的資料存取層(Data Access Layer)。

![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1634049406/blog/SE/2-tier-simple-arch_xgicv5.png)


## 從三層架構進行演化

MVC從三層架構(3-tier Architecture)而演化成Model、View、Controller 這三種類型的程式碼，Model如同其名以某種形式來表達某東西或者定義某東西，在這裏就是定義軟體主要提供的功能（定義含功能上所需要的資料是什麼），過程中可能會需要存取資料來實現功能，所以Model會包含業務邏輯層和負責管理資料的資料存取層，View就負責呈現介面畫面給使用者看，而Controller就是從三層架構的呈現層中分離出介面互動並進一步被定義為負責接收代表使用者請求的訊息並轉發對應的業務邏輯層功能和回應請求所需要的畫面和結果給使用者(如下圖)

![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1634314768/blog/SE/MVCfullVer_z42n0o.png)

首先當使用者在MVC架構上發出請求時，Controller會負責接收請求並轉發至Model內的業務邏輯層進行對應的處理，當處理需要資料庫的資料時，便會透過資料存取層來獲取資料並利用資料進行處理，處理完便會將處理結果傳給Controller，而這時Controller會決定是否要將結果渲染成畫面給使用者看，若決定要以畫面來呈現結果給使用者，那麼就將業務邏輯層的處理結果傳給View讓它能夠產生出對應渲染畫面的資訊，並將代表該畫面的資訊傳給Controller，並由它轉發給使用者，由使用者發出請求的元件根據資訊來渲染出畫面給使用者觀看。





