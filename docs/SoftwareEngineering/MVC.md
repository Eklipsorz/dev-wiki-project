---
sidebar_position: 1
---

# MVC 架構

## MVC 背景
首先軟體架構可以簡單以使用者能不能直接看到的介面來區分，主要分為介面和介面互動、業務（商業）邏輯（軟體主要提供給使用者的功能、服務）這兩類，業務在這裡是指軟體所提供的功能，而邏輯是根據已知資訊而推論出的標準、規則，合在一起就是為了實現軟體功能而推論出來所需要完成的標準和規則，換言之就是業務邏輯就是定義軟體能提供的服務以及定義這些服務所需要完成的標準規則（可能定義這些服務是以什麼形式來提供)，前者會將介面上的元件與業務邏輯所提供的功能進行綁定，當元件與產生互動時，便會因為綁定而去執行對應的業務邏輯。

而業務邏輯本身會涉及到資料，且有些服務會要求存取的資料是能夠集中管理且要能夠重複使用的程式碼，而將那些程式碼特別封裝成另一類負責資料存取，所有程式碼都要經由這一類才能夠存取，這一類叫做資料存取。從這些描述來看，軟體架構可以進一步將程式碼分為三類或者三層，呈現層（介面和介面互動）、業務邏輯層、資料存取層。

![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1634049406/blog/SE/2-tier-simple-arch_xgicv5.png)


呈現層會呈現介面給使用者看，並且當使用者對介面上的元件進行互動時，便會觸發 該互動的對應業務邏輯層之功能，而當業務

 ![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1634048134/blog/SE/3-tier-arch_qpiq53.png)

而這三層在這架構中
 - 呈現層(Presentation layer)：主要負責呈現使用者介面給使用者並賦予使用者能夠以及將介面上元件互動與業務邏輯層所提供的功能進行綁定。
 - 業務邏輯層(Business Logic Layer)：主要負責實現某些業務所需要完成的流程、標準以及將呈現層的介面上互動與自身層級功能進行綁定，當使用者對介面上的元件進行互動，其元件會因為綁定而發送請求以及所需資料，這代表要求著實現對應業務(該互動所需要提供的服務)以及所需資料，這時會經由此層來接收並決定如何處理業務，處理過程中會利用資料存取層來請求回傳使用者所需資料給業務邏輯層來做後續對應業務的處理完便會回傳結果給呈現層，由它呈現最後結果給使用者看
 - 資料訪問層(Data access layer)：主要負責資料(庫)管理的層次，同時也只有這層能夠存取資料庫。


而MVC從這個架構而演化成Model、View、Controller，Model如同其名以某種形式來表達某東西或者定義某東西，在這裏就是定義軟體主要提供的功能（定義含功能上所需要的資料是什麼），過程中可能會需要存取資料來實現功能，所以Model 會包含業務邏輯層和負責管理資料的資料存取層，View就介面，Controller就是從介面層中的介面互動分離出來的層級，也就是負責介面互動



然後業務邏輯的英文是Business Logic ，直翻的話會是商業邏輯，但實際上來說這個詞原本定義就不只用在商業類型，不過實際上來說，人人都常用商業邏輯來稱呼



但為了不把詞完全偏向商業，所以我才用業務邏輯來中翻

另外也有人特意把model 的業務邏輯轉移至其他層級，就是只把model當作資料管理，而這樣的model 叫做Anemic domain model
