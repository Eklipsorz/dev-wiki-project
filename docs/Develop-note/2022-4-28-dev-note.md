---
sidebar_position: 7
---

# 2022-4-28-開發日記

## 關聯式資料庫的資料間關聯
資料間關聯是指多種資料表格之間的對應關係為何，在這裡假定兩種資料表格，分別為資料表格A和資料表格B，兩者之間的對應關係會以同個表格下的同筆紀錄與另一個表格上的多筆紀錄產生關係，或者說是否能夠透過 "表格A的同筆紀錄" 在資料表格B下找到多筆紀錄？ 以及 是否能夠透過 "表格B的同筆紀錄" 在資料表格A下找到多筆紀錄？

1. 一對一(one-to-one)：
  - 藉由表格A的同筆紀錄，能夠在資料表格B下找到最多一筆相關連的紀錄；藉由表格B的同筆紀錄，能夠在資料表格A下找到最多一筆相關連的紀錄
  - 藉由表格A的同筆紀錄，能夠在資料表格B下對應最多一筆相關連的紀錄；藉由表格B的同筆紀錄，能夠在資料表格A下對應最多一筆相關連的紀錄
2. 一對多(one-to-many)：多會是指大於1的數量
  - 藉由表格A的同筆紀錄，能夠在資料表格B下找到多筆相關連的紀錄；藉由表格B的同筆紀錄，能夠在資料表格A下找到最多一筆相關連的紀錄
  - 藉由表格A的同筆紀錄，能夠在資料表格B下對應多筆相關連的紀錄；藉由表格B的同筆紀錄，能夠在資料表格A下對應最多一筆相關連的紀錄

3. 多對一(many-to-one)：
  - 藉由表格A的同筆紀錄，能夠在資料表格B下找到最多一筆相關連的紀錄；藉由表格B的同筆紀錄，能夠在資料表格A下找到多筆相關連的紀錄
  - 藉由表格A的同筆紀錄，能夠在資料表格B下對應最多一筆相關連的紀錄；藉由表格B的同筆紀錄，能夠在資料表格A下對應多筆相關連的紀錄

4. 多對多(many-to-many)：
  - 藉由表格A的同筆紀錄，能夠在資料表格B下找到多筆相關連的紀錄；藉由表格B的同筆紀錄，能夠在資料表格A下找到多筆相關連的紀錄
  - 藉由表格A的同筆紀錄，能夠在資料表格B下對應多筆相關連的紀錄；藉由表格B的同筆紀錄，能夠在資料表格A下對應多筆相關連的紀錄
## 如何辨別關係之下的對應數量
1. 思考資料表格 A的同一筆紀錄 是否能在另一個資料表格B對應多筆紀錄？以及 資料表格 B的同筆紀錄 是否能在資料表格 A上對應多筆紀錄？
2. 若皆為No且彼此皆只能對應一個紀錄，就為一對一關係，若有一個No和一個Yes，就為一對多關係或者多對一關係，若全都Yes，就為多對多關係



ORM/ODM 所設置的關聯：一對一、一對多、多對多，分為兩種，第一種是ORM/ODM面向於應用程式端，第二種為ORM/ODM面向於資料庫系統


```
USE  test1;

-- CREATE TABLE Persons (
-- 	person_id INT NOT NULL PRIMARY KEY
-- );

CREATE TABLE Orders (
    order_id INT NOT NULL PRIMARY KEY,
    order_number INT NOT NULL,
    person_id INT NOT NULL,
    FOREIGN KEY (person_id) REFERENCES Persons(person_id)
);

```