---
sidebar_position: 12
---

# 認識 JWT 認證機制
JWT 將作為 本次(2022/2/21)推特比賽的認證機制，採用它原因有：
  - cookie作為認證工具時，都會被伺服器那一方要求寫下對應的session-id，同時間客戶端會針對伺服器目前所在的網域或者IP來紀錄session-id，以防下一次遇到相同的伺服器時，就拿出該伺服器下的session-id來認證，但如果伺服器的網域或者IP變動時，客戶端很有可能找不到對應的伺服器下的session-id而讓伺服器認為客戶端是沒有相對應的session-id而重新認證，簡而言之，**一旦伺服器更換位置，cookie和session認證方法會因cookie區分session-id為哪個網域而失效，必須重新認證**
  - JWT 是採用token來給予客戶端進行認證，且token不受網域影響
  - 前後端溝通模式是JSON，前端以JSON形式來發送請求，後端只接收JSON形式請求和回傳JSON形式回應


## JSON Web Token(JWT)
1. (簡易版)認證機制為：客戶端向伺服器進行首次認證，認證完之後就發送token至客戶端，爾後客戶端直接拿著token就能夠認證成功
![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1645088801/github/tokenAPICase1_gqlxpg.png)
![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1645088802/github/tokenAPICase2_agmisa.png)
2. JWT 屬於 token-based authentication。
3. 其中Token 如同其名，是用JSON格式來製作，其內容主要有三個部分所組成：
 - Header - 標記 token 的類型與雜湊函式名稱
 - Payload - 要攜帶的資料，例如 user_id 與時間戳記，也可以指定 token 的過期時間
 - Signature - 根據 Header 和 Payload，加上密鑰 (secret) 進行雜湊，產生一組不可反解的亂數，當成簽章，用來驗證 JWT 是否經過纂改。