---
sidebar_position: 26
---

# U80 新知和技術


## 重構Express server的路由
1. 將集中在同一個檔案(app.js)的路由設定分離至另一個目錄下做管理，進而得到以下優點：
  - 維持文件易讀性：使app.js在程式碼閱讀上增加易讀性
  - 關注點分離：藉由將路由設定分離至另一個目錄，來讓原本關注點有兩點的app.js縮減至各只有一個關注點的程式碼模組，分別為負責整個Web APP的設定和啟動的app.js 和 負責管理Web APP的路由設定的程式模組

## Express Server 的 Router


## Node.js 的 require 規則
1. 當在PATH Y 執行require(X)時，會執行以下條件式和處理：
  - 若X為Node.js Core Module(與Node.js 一同編譯的內建模組)，就從預設內建模組路徑找尋來載入該模組，並停止以下處理。
  - 若X是以'/'開頭，就設定Y為檔案系統的根目錄，繼續做以下處理
  - 若X是以'./'、'/'、'../'的話，就試著判斷X是否為js、json、.node或者Node.js所支援的檔案類型，若其中一個符合，就以那種形式載入，接著停止。若都沒有的話，就繼續做以下處理
  - 將X當作是目錄來載入，若X存在package.json檔案，就以npm module來載入該X目錄，並停止。若沒有package.json檔案的話，就依序檢查X目錄是否有index.js、index.json、index.node，若有的話，就載入該index並停止。若都沒有，就繼續做以下處理
  - 拋出找不到其模組的訊息


## 實施重構Express server的路由
// 分離

// 利用