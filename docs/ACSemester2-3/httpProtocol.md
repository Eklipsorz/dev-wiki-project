---
sidebar_position: 34
---

# http 協定特點


## HTTP 特點
1. 支持客戶/伺服器模式 
2. 簡單快速
3. 靈活
4. 無連接
5. 無狀態


## 連線(Connection)
1. 原文為如下，中文意思為連線在TCP中是種資訊，它融合socket資訊、序列號(sequence number)、窗口大小(window sizes)。
>The reliability and flow control mechanisms described above require that TCPs initialize and maintain certain status information for each data stream. The combination of this information, including sockets, sequence numbers, and window sizes, is called a connection.
2. 起源於
 - [what is connection](https://datatracker.ietf.org/doc/html/rfc793)
 - [为什么 TCP 建立连接需要三次握手](https://draveness.me/whys-the-design-tcp-three-way-handshake/)


 ## 網路插座(Socket)
 1. 原文是指某種裝置的插槽，作用是用來與其他裝置相互連接並傳遞/接收訊號
 2. 在電腦科學裡，會是指電腦網路中的網路節點所具有的軟體結構，其結構會如同字面上的意思而構成插槽，並允許其他裝置透過插槽連接來相互傳遞/接收訊息，而每台電腦都代表著網路節點，換言之，這些電腦上具有由軟體建立出來的插槽，插槽之間會透過有線/無線來相互連接，而虛構出來的插槽會負責從中接收和傳送資料至特定節點上的網路插槽。
 3. 由於插槽實際上實現是主機之間的網路連接，而主機本身也允許提供額外的應用層的服務，只是若放在同一個插槽勢必多耗成本來檢查每一個接收進來的封包，為此每個服務都會有各自的網路插槽來與其他裝置來連接，以此辨明封包上的種類。
 4. 由於前者，每個虛構出來的網路插槽都具有port和ip來綁定以此辨明插槽是屬於哪個主機以及主機上哪個服務上。


## 無連線(Connectionless)
1. Connection 指伺服器和客戶端之間的網路連線，而less則是表示著前者在某方面來說的程度或者數量較少，甚至到缺乏的程度或者沒有，兩者結合在一起就是無連線，但並不表示這就不存在著連線，而是連線在某種程度上來說算少的，或者在某種程度來說算沒有，而某種程度在這裡會是指連線持續時間，所以連線持續時間較短的連線或者連線持續時間沒有的連線都稱作為無連線。

2. HTTP的無連線是指連線持續時間較短的連線，每一次連接都只處理一個請求，當伺服器處理完一個客戶請求並回傳結果給客戶端，接著客戶端回應它已收到回應的訊息給伺服器，此時伺服器和客戶端就相互刪除代表連線的資訊以此來中斷連線，使連線成為連線持續較短的連線

3. HTTP的無連線是出自於早期向伺服器發送的請求都因為索取的資料較小而具有間歇性(不連續發送同個連線的請求，會隔一段時間發送)且請求量有可能會是巨大的，在巨大的請求量中，由於請求們都因為間歇性而發散，使得連續數量的請求都沒什麼特定關係(如同一個連線)，為了讓伺服器能夠服務更多的請求，所以才以連線持續時間較短的連線來解決。

4. 但隨著時間的推移，每一個請求不再只是索求大小較小的資源，而是會因為所要的資源太大，而必須將請求或者回應分割好幾份小請求或小回應來發送或者回應，然而每當小回應回傳客戶端時，可能會因為無連線的規則而斷開連線，但由於請求/回應還未完全做完，所以又會為了發送請求或者接收回應而再次讓客戶端和伺服器建立連線，並重新接收，然後回應完又斷開，然後再繼續建立連線的迴圈，進而使得在巨大的請求量中，連續請求會出現較多為同一個連線的情況

5. 為了解決這問題，所以提出了Keep-Alive機制在HTTP的實作上，來讓連線的持續時間延長至伺服器或者客戶端本身認為傳送/接收過程已經結束而停止連線，換言之，由他們決定何時中鍛鍊線，在Keep-Alive的情況下，每個請求所建立的連線會延長，這可以盡可能緩解原本需要重複建立連線的傳送/回應的過程，但由於連線延長，所以容易讓連線本身佔據著系統資源。


## 無狀態(stateless)
1. State 是指連線時的狀態，而狀態會是伺服器和客戶端在連線時所發生的過程，而less則是強調前者在某方面的程度或者數量較少，甚至至缺乏的狀態或者沒有，結合在一起就是無狀態，但並表示連線時的狀態就不存在，而是儲存狀況在某種程度來說算少的，或者在某種程度來說算沒有，而這裡的某種程度就是強調著伺服器和客戶端僅限於連線狀態下暫時儲存彼此狀態，當結束連線狀態時，兩者並不會永久儲存先前的狀態或者刪掉暫存的狀態。

2. 雖然無狀態強調著盡可能降低伺服器端的儲存成本，但實際上，這特性會阻礙著需要上一個連線所要的資源而做的後續處理，如簡單的購物車程序也要知道用戶到底在之前選擇了什麼商品，為了在不修改無狀態的前提下，來改善問題，有人就提出cookie和session這兩個機制，來由客戶端和伺服器本身提供空間來儲存每次連線時的狀態。


## 無連線和無狀態
1. 參考資料:
  - [HTTP - Overview](https://www.tutorialspoint.com/http/http_overview.htm)
  - [如何理解HTTP協議的 「無連接，無狀態」 特點？](https://kknews.cc/code/9nxbmj8.html)

## cookie
1. 由網景公司提出的解法，允許瀏覽器去將每一次連線時的狀態存在一個名為cookie的空間或者檔案，接著每一次瀏覽器會利用cookie來對著過去連線過的伺服器發送特定的請求，並讓伺服器以該內容來處理並回應特定的結果
2. 通常會儲存過去客戶端對於伺服器所要求的內容或者獲取內容，比如輸入帳密等，儲存過程中會加密。
3. Cookie 可自由讓使用者或者瀏覽器來決定其內容的去留

## session


## cookie 和 session 之間的應用